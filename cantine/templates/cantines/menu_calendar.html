{% extends "cantines/base.html" %}
{% load static %}

{% block title %}Calendrier des menus - Gestion Cantine HEG{% endblock %}

{% block extra_head %}
<style>
    .calendar-grid {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 1px;
    }
    .calendar-day {
        min-height: 100px;
        border: 1px solid #e5e7eb;
        padding: 8px;
        background: white;
    }
    .calendar-day.other-month {
        background: #f9fafb;
        color: #9ca3af;
    }
    .calendar-day.today {
        background: #dbeafe;
        border-color: #3b82f6;
    }
    .calendar-day.has-menu {
        background: #fef3c7;
    }
</style>
{% endblock %}

{% block content %}
<div class="bg-gradient-to-r from-heg-violet/10 via-white to-heg-violet/10 py-12 mb-8">
    <div class="container mx-auto px-4">
        <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
            <div>
                <h1 class="text-5xl font-heading font-bold mb-2 text-heg-gris">
                    Calendrier des menus
                </h1>
                <p class="text-lg text-heg-gris/70">{{ month }}/{{ year }}</p>
            </div>
            <div class="flex gap-2">
                <a href="?year={{ year }}&month={{ month|add:"-1" }}" class="btn btn-ghost">
                    <i class="fas fa-chevron-left"></i> Mois précédent
                </a>
                <a href="?year={{ year }}&month={{ month|add:"1" }}" class="btn btn-ghost">
                    Mois suivant <i class="fas fa-chevron-right"></i>
                </a>
            </div>
        </div>
    </div>
</div>

<div class="container mx-auto px-4 mb-8">
    <div class="bg-white border border-heg-gris/20 rounded-lg shadow-sm p-6">
        <div class="calendar-grid mb-4">
            <div class="text-center font-bold text-heg-gris/70 py-2">Lun</div>
            <div class="text-center font-bold text-heg-gris/70 py-2">Mar</div>
            <div class="text-center font-bold text-heg-gris/70 py-2">Mer</div>
            <div class="text-center font-bold text-heg-gris/70 py-2">Jeu</div>
            <div class="text-center font-bold text-heg-gris/70 py-2">Ven</div>
            <div class="text-center font-bold text-heg-gris/70 py-2">Sam</div>
            <div class="text-center font-bold text-heg-gris/70 py-2">Dim</div>

            {% for day in calendar_days %}
            <div class="calendar-day {% if day.other_month %}other-month{% endif %} {% if day.is_today %}today{% endif %} {% if day.menu %}has-menu{% endif %}">
                <div class="font-semibold mb-1">{{ day.day }}</div>
                {% if day.menu %}
                <div class="text-xs">
                    <div class="font-semibold text-heg-violet">{{ day.menu.plat_principal }}</div>
                </div>
                {% endif %}
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}
